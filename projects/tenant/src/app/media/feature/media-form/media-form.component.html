<article>
  <h1>Criar mídia</h1>
  <div class="tui-container">
    <form [formGroup]="mediaForm" (ngSubmit)="onSubmit()">
      <div class="tui-row tui-row_sme">
        <div class="tui-col_8">
          <h3 class="tui-form__header tui-form__header_margin-top_none">Informações</h3>
          <div class="tui-form__row">
            <tui-input
              tuiTextfieldExampleText="Descrição da mídia"
              formControlName="description"
            >
              Descrição
              <span class="tui-required"></span>
            </tui-input>
            <tui-error
              formControlName="description"
              [error]="[] | tuiFieldError | async"
            ></tui-error>
          </div>
          <h3 class="tui-form__header tui-form__header_margin-top_1">
            Arquivo <span class="tui-required"></span>
          </h3>
          <div class="tui-form__row" *ngIf="!mediaData">
            <tui-input-files
              *ngIf="!fileControl!.value"
              accept="image/png,image/jpg,image/jpeg,video/mp4,video/avi"
              [maxFileSize]="150000000"
              [multiple]="false"
              [formControl]="fileControl!"
            ></tui-input-files>

            <tui-files class="tui-space_top-1">
              <tui-file
                *ngIf="fileControl!.valueChanges | async as file"
                [file]="file"
                (removed)="removeFile()"
              >
              </tui-file>
            </tui-files>
            <progress
              class="tui-space_top-2"
              tuiProgressBar
              max="100"
              size="m"
              [value]="uploadProgress"
            ></progress>
            <p>Tipos de arquivos permitidos: .jpg, .png, .jpeg, .mp4, .avi</p>
            <tui-error
              formControlName="file"
              [error]="[] | tuiFieldError | async"
            ></tui-error>
          </div>

          <div class="tui-form__buttons">
            <button
              tuiButton
              size="l"
              type="submit"
              class="tui-form__button"
              [disabled]="formDisabled"
            >
              Enviar
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</article>
